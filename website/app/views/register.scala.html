@(countries: List[Country])
@main("Solidarity Network - Register", "register") {
<!--
    Content
-->

} {
<!--
    Javascript
-->

<script id="content-template" type="text/html">
    <form>
        <div class="field">
            <input id="first-name" type="text" placeholder="First name *"/>
            <p class="field-error" data-check="empty">You need to indicate your first name...</p>
        </div>

        <div class="field">
            <input id="last-name" type="text" placeholder="Last name *"/>
            <p class="field-error" data-check="empty">You need to indicate your last name...</p>
        </div>

        <div class="field">
            <input id="email" type="text" placeholder="E-mail address *"/>

            <p class="field-error" data-check="empty">Please indicate your e-mail address. We'll use it to inform you of
                user messages and help requests.</p>

            <p class="field-error" data-check="email">Would you mind checking that e-mail address? Looks wrong to
                me...</p>
        </div>

        <div class="field">
            <input id="username" type="text" placeholder="Username *"/>
            <a id="check-username-availability">Available?</a>

            <p class="field-error" data-check="empty">Please choose a username, it'll identify you to other users.</p>

            <p class="field-error" data-check="username">Sorry, but only the following characters are allowed:
                <em>a-z</em>, <em>A-Z</em>, <em>0-9</em>, <em>-</em>, <em>_</em></p>

            <p class="field-error" id="username-taken" style="display: none">Sad news: this username is already taken :/
                Please try another one.</p>
        </div>

        <div class="field">
            <input id="password" type="password" placeholder="Password *"/>
            <p class="field-error" data-check="empty">Hum... you'll need a password to login!</p>
        </div>

        <fieldset>
            <div class="field">
                <input id="street-address" type="text" placeholder="Street address"/>
            </div>

            <div class="field">
                <input id="post-code" type="text" placeholder="Post code"/>
            </div>

            <div class="field">
                <input id="city" type="text" placeholder="City *"/>

                <p class="field-error" data-check="empty">Please indicate your city. Otherwise, we wouldn't know which
                    other users live nearby.</p>
            </div>

            <div class="field">
                <select id="country">
                    <option value="">Country *</option>
                    {{#countries}}
                    <option value="{{id}}">{{name}}</option>
                    {{/countries}}
                </select>

                <p class="field-error" data-check="empty">Where exactly is your city located?</p>
            </div>
        </fieldset>

        <a id="register-button">
            <span>Register</span>
        </a>

        <input type="submit" style="visibility: hidden" />

    </form>
</script>

<script type="text/javascript">
    window.addEvent("domready", function () {
        new CBR.Controllers.Register({
            el: "#content",
            countries: @Html(common.JsonUtil.serialize(countries))
        })
        .run();
    });
</script>
}