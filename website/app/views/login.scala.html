@(from: Option[String], username: Option[String])
@main("Solidarity Network - Login", "login") {
<!--
    Header
-->
@nav(None, Some("Login"))

} {
<!--
    Content
-->
<h1>Login</h1>

@if(from.isDefined) {
<p class="indication">Thanks for joining the Solidarity Network!<br />
    Please login:</p>
}

} {
<!--
    Javascript
-->

<script id="content-template" type="text/html">
    <form>
        <p id="auth-failed">Wrong credentials :( Please try again!</p>

        <div class="field">
            <input id="username-or-email" type="text" placeholder="Username or e-mail *"/>

            <p class="field-error without-label" data-check="empty">Hard for us to log you in without a username...</p>
        </div>

        <div class="field">
            <input id="password" type="password" placeholder="Password *"/>

            <p class="field-error without-label" data-check="empty">Oops, you forgot the password!</p>
        </div>

        <input type="submit" />

        <div id="submit-button-wrapper">
            <a id="login-button">Log in</a>
        </div>

    </form>

    <section id="join">
        <span>No account yet?</span>
        <a id="join-button" href="/join">Join</a>
    </section>
</script>

<script type="text/javascript">
    window.addEvent("domready", function () {
        new CBR.Controllers.NavController().run();

        new CBR.Controllers.Login({
            el: "#content"
            @if(username.isDefined) {
            , username: "@username.get"
            }
        }).run();
    });
</script>
}